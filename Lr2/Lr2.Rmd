# Исследование сетевых параметров публичных DNS серверов

## Цель работы

Проанализировать сетевые параметры публичных DNS серверов, сделать мотивированный вывод о предпочтительных серверах

## Используемое ПО
1. Rstudio IDE
2. tracert/tracerout
3. 2ip

## Варианты решения задачи
1. Tracert
2. Tracerout

В данной работе буду использовать вариант для Windows - tracert

## Общий план выполнения

1. Построить маршрут
2. Определить местоположение каждого узла маршрута к DNS-серверу, организацию, владеющую каждым узлом маршрута к DNS-серверу
3. Расчитать среднее RTT к DNS-серверу
4. Выделить те узлы маршрута, которые вносят наибольшую временную задержку при передаче

## Исследуемые провайдеры DNS

1. Google Public DNS
2. Cloudflare DNS
3. OpenDNS
4. DNS вашего провайдера


## Ход работы

Google Public DNS

1. Строим маршрут

```{r cache=TRUE}
system("tracert 8.8.8.8", intern = TRUE)
```

2. Собираем информацию

| № |Время|Время|Время|Узел           |Местоположение узла| Организация    | Средняя RTT к DNS| Вносит наибольшую временную задержку при передаче|
|:-:|:---:|:---:|:---:|:-------------:|:-----------------:|:--------------:|:----------------:|:------------------------------------------------:|
| 1 |3  ms| 1 ms|<1 ms|  192.168.1.1  |Москва             |Router          |1,5               |1|
| 2 | *   | 4 ms| 1 ms|  172.18.0.1   |Москва             |Гран При Телеком|1,6               |2|
| 3 | 2 ms| 2 ms| 6 ms|  77.73.25.1   |Москва             |Гран При Телеком|3,3               |3|
| 4 |12 ms|44 ms| 9 ms|  79.98.8.145  |Москва             |Наука-Связь     |21,6              |9|
| 5 | 3 ms| 3 ms| 8 ms|  79.98.8.194  |Москва             |Наука-Связь     |4,6               |4|
| 6 | 6 ms| 5 ms| 4 ms|108.170.250.146|USA                |Google LLC      |5                 |5|
| 7 |17 ms|18 ms|22 ms|216.239.50.2   |Mountain View, USA |Google LLC      |19                |8|
| 8 |18 ms|22 ms| *   |216.239.48.224 |USA                |Google LLC      |13,3              |6|
| 9 |21 ms|22 ms|29 ms|172.253.51.219 |USA                |Google LLC      |24                |10|
| 10| * | * | * | Request timed out.|
| 11| * | * | * | Request timed out.|
| 12| * | * | * | Request timed out.|
| 13| * | * | * | Request timed out.|
| 14| * | * | * | Request timed out.|
| 15| * | * | * | Request timed out.|
| 16| * | * | * | Request timed out.|
| 17| * | * | * | Request timed out.|
| 18| * | * | * | Request timed out.|
| 19|18 ms|17 ms|21 ms|     8.8.8.8   |Нью-Йорк, USA      |Google LLC      |18,6              |7|

Cloudflare DNS

1. Строим маршрут

```{r cache=TRUE}
system("tracert 1.1.1.1", intern = TRUE)
```

2. Собираем информацию

| № |Время|Время|Время|Узел           |Местоположение узла| Организация                 | Средняя RTT к DNS| Вносит наибольшую временную задержку при передаче|
|:-:|:---:|:---:|:---:|:-------------:|:-----------------:|:---------------------------:|:----------------:|:------------------------------------------------:|
| 1 |<1 ms| 1 ms| 1 ms| 192.168.1.1   |Москва             |Router                       |0,8               |1|
| 2 | 4 ms| 1 ms|<1 ms| 172.18.0.1    |Москва             |Гран При Телеком             |1,8               |2|
| 3 | 7 ms| 1 ms| 5 ms| 77.73.25.1    |Москва             |Гран При Телеком             |4,3               |3|
| 4 |17 ms| 5 ms| 3 ms| 77.94.162.77  |Москва             |CLN                          |8,3               |5|
| 5 | 9 ms|11 ms|14 ms| 195.208.209.7 |Москва             |CLN                          |11,3              |6|
| 6 | 2 ms| 6 ms| 8 ms| 1.1.1.1       |Research, Australia| Cloudflare DNS              |5,3               |4|

OpenDNS

1. Строим маршрут

```{r cache=TRUE}
system("tracert 208.67.220.220", intern = TRUE)
```

2. Собирам информацию

| № |Время|Время|Время|Узел          |Местоположение узла| Организация                            | Средняя RTT к DNS| Вносит наибольшую временную задержку при передаче|
|:-:|:---:|:---:|:---:|:------------:|:-----------------:|:--------------------------------------:|:----------------:|:------------------------------------------------:|
| 1 | 1 ms|<1 ms|<1 ms|192.168.1.1   |Москва             |Router                                  |0,6               |2|
| 2 | *   | 1 ms| 3 ms|172.18.0.1    |Москва             |Гран При Телеком                        |1,3               |3|
| 3 | 1 ms| 2 ms| 1 ms|77.73.25.1    |Москва             |Гран При Телеком                        |1,3               |3|
| 4 |12 ms| 2 ms| 3 ms|77.94.162.77  |Москва             |CLN                                     |5,6               |4|
| 5 | * | * | * | Request timed out.|
| 6 | * | * | * | Request timed out.|
| 7 | * | * | * | Request timed out.|
| 8 |38 ms|43 ms|35 ms|208.67.220.220|San Francisco      |Cisco OpenDNS, LLC                      |38,6              |5|

ООО "Гран При Телеком"

1. Строим маршрут

```{r cache=TRUE}
system("tracert 77.73.24.2", intern = TRUE)
```

2. Собираем информацию

| № |Время|Время|Время|Узел        |Местоположение узла| Организация                 | Средняя RTT к DNS| Вносит наибольшую временную задержку при передаче|
|:-:|:---:|:---:|:---:|:----------:|:-----------------:|:---------------------------:|:----------------:|:------------------------------------------------:|
| 1 |21 ms|7 ms |10 ms| 192.168.1.1|Москва             |Router                       |12,6              |4|
| 2 |1 ms |2 ms |1 ms | 172.18.0.1 |Москва             |Гран При Телеком             |1,3               |2|
| 3 | *   |1 ms | 3 ms| 77.73.25.6 |Москва             |Гран При Телеком             |1,3               |2|
| 4 |3 ms |2 ms | 2 ms| 77.73.24.2 |Москва             |network for GRANDPRIX Telecom|2,3               |3|


```{r cache=TRUE} 
time <- c(93.9, 31.8, 47.4, 17.5)
name <- c("Google Public DNS", "Cloudflare",  "Open DNS", "DNS провайдера")
DNS <- data.frame(Name= name, Time = time)
barplot(DNS$Time, names.arg = DNS$Name)
```


## Оценка результата

Наибольшую временную задержку вносит Google Public DNS, а меньше всего времени потребовалось Гран При Телеком.

## Вывод

В данной лабораторной работе, мы исследовали сетевые параметры публичных DNS серверов. Научились строить маршруты. Служба доменных имён работает благодаря DNS-cерверам. Именно эти жизненно важные «программы» хранят таблицы соответствий вида «имя домена» — «IP-адрес». Кроме того, DNS-серверы служат для хранения ресурсных записей доменов: Что такое ресурсные записи? В Интернете огромное количество DNS-серверов, каждый выполняет свою функцию в общей системе. Служба Domain Name System необходима для того, чтобы мы могли без проблем находить свои любимые сайты, не запоминая вереницы цифр.